{# pin docker to a specific version range  #}

{#
version: "18.*"     # to install any 18.XX version
version: "" or "*"  # disable version pinning
origin: system|docker|launchpad
  system= from distribution
  docker= from download.docker.com
  launchpad= from launchpad source, self build, with local patches
old:
docker_com_flavor: stable, ... # upstream target
#}

{% load_yaml as defaults %}
version: *
origin: system
docker_com_flavor: stable
from_upstream: false

bridge: docker0
ipaddr: "172.17.0.1"
netmask: "255.255.0.0"
options: --storage-driver=overlay2 --bridge=docker0
{% endload %}

{% set settings=salt['grains.filter_by']({'none': defaults},
  grain='none', default= 'none', merge= salt['pillar.get']('docker', {})) %}
